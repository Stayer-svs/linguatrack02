<!-- app_vocab/templates/app_vocab/matching_result.html -->
{% extends "app_vocab/base.html" %}

{% block title %}–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è{% endblock %}

{% block extra_css %}
<style>
    .result-container {
        max-width: 600px;
        margin: 0 auto;
        text-align: center;
    }
    .result-icon {
        font-size: 4em;
        margin: 20px 0;
    }
    .result-score {
        font-size: 3em;
        font-weight: bold;
        margin: 20px 0;
    }
    .excellent { color: #4CAF50; }
    .good { color: #2196F3; }
    .average { color: #FF9800; }
    .poor { color: #f44336; }
    .result-message {
        font-size: 1.3em;
        margin: 20px 0;
        padding: 15px;
        border-radius: 8px;
        background: #f8f9fa;
    }
    .progress-bar {
        background: #e0e0e0;
        border-radius: 10px;
        height: 20px;
        margin: 20px 0;
        overflow: hidden;
    }
    .progress-fill {
        background: #4CAF50;
        height: 100%;
        border-radius: 10px;
        transition: width 0.5s ease;
    }
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        margin: 30px 0;
    }
    .stat-card {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        text-align: center;
    }
    .stat-number {
        font-size: 2em;
        font-weight: bold;
        color: #333;
    }
    .stat-label {
        color: #666;
        margin-top: 5px;
    }
    .next-btn {
        padding: 12px 30px;
        background: #2196F3;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 1.1em;
        cursor: pointer;
        margin: 10px;
        text-decoration: none;
        display: inline-block;
    }
    .next-btn:hover {
        background: #1976D2;
    }
    .next-btn.primary {
        background: #4CAF50;
    }
    .next-btn.primary:hover {
        background: #45a049;
    }
    .encouragement {
        margin: 25px 0;
        padding: 20px;
        background: #e8f5e8;
        border-radius: 8px;
        border-left: 4px solid #4CAF50;
    }
</style>
{% endblock %}

{% block content %}
<div class="result-container">
    <h1>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è</h1>

    <!-- –ò–∫–æ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ -->
    <div class="result-icon">
        {% if success_rate >= 80 %}
            üéâ
        {% elif success_rate >= 60 %}
            üëç
        {% elif success_rate >= 40 %}
            üí™
        {% else %}
            üìö
        {% endif %}
    </div>

    <!-- –û—Ü–µ–Ω–∫–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö -->
    <div class="result-score
        {% if success_rate >= 80 %}excellent
        {% elif success_rate >= 60 %}good
        {% elif success_rate >= 40 %}average
        {% else %}poor{% endif %}">
        {{ success_rate|floatformat:0 }}%
    </div>

    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
    <div class="progress-bar">
        <div class="progress-fill" style="width: {{ success_rate }}%"></div>
    </div>

    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ -->
    <div class="result-message">
        {% if success_rate >= 80 %}
            <strong>–û—Ç–ª–∏—á–Ω–æ!</strong> –í—ã –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Å–ø—Ä–∞–≤–∏–ª–∏—Å—å —Å –∑–∞–¥–∞–Ω–∏–µ–º!
        {% elif success_rate >= 60 %}
            <strong>–•–æ—Ä–æ—à–æ!</strong> –û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ø—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!
        {% elif success_rate >= 40 %}
            <strong>–ù–µ–ø–ª–æ—Ö–æ!</strong> –ï—Å—Ç—å –Ω–∞–¥ —á–µ–º –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–æ –≤—ã –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—É—Ç–∏!
        {% else %}
            <strong>–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —É—á–∏—Ç—å—Å—è!</strong> –ö–∞–∂–¥–∞—è –ø–æ–ø—ã—Ç–∫–∞ –¥–µ–ª–∞–µ—Ç –≤–∞—Å –ª—É—á—à–µ!
        {% endif %}
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-number">{{ correct_matches }}</div>
            <div class="stat-label">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–∞—Ä</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">{{ total_matches }}</div>
            <div class="stat-label">–í—Å–µ–≥–æ –ø–∞—Ä</div>
        </div>
    </div>

    <!-- –û–±–æ–¥—Ä—è—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
    <div class="encouragement">
        <h3>üí° –°–æ–≤–µ—Ç—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:</h3>
        <p>
            {% if success_rate < 60 %}
                –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –∏–∑—É—á–∞—Ç—å —Å–ª–æ–≤–∞ –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏,
                –∑–∞—Ç–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—é.
            {% else %}
                –û—Ç–ª–∏—á–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
            {% endif %}
        </p>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
    <div>
        <a href="{% url 'app_vocab:matching_game' %}" class="next-btn">
            üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞
        </a>
        <a href="{% url 'app_vocab:multiple_choice_test' %}" class="next-btn">
            üß™ –¢–µ—Å—Ç —Å –≤—ã–±–æ—Ä–æ–º
        </a>
        <a href="/" class="next-btn primary">
            üéì –û–±—ã—á–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞
        </a>
    </div>

    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –º–æ—Ç–∏–≤–∞—Ü–∏—è -->
    <div style="margin-top: 30px; color: #666; font-size: 0.9em;">
        <p>üéØ –ö–∞–∂–¥–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç –≤–∞—Å –∫ —Å–≤–æ–±–æ–¥–Ω–æ–º—É –≤–ª–∞–¥–µ–Ω–∏—é —è–∑—ã–∫–æ–º!</p>
    </div>
</div>
{% endblock %}
